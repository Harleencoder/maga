<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Switcher with Lazy Loading</title>
</head>
<body>
    <div id="content" style="text-align: center;">
        <!-- Image will be loaded here -->
        <img id="page-content" src="/assets/1.jpeg" alt="Image 1" style="max-width:100%; height:auto; border:1px solid #000;">
    </div>
    
    <!-- Display the current file number -->
    <div id="fileNumberBar" style="margin-top: 10px; font-size: 18px;">
        Current Image: <span id="currentFileNumber">1</span>
    </div>

    <button id="prevButton">Previous</button>
    <button id="nextButton">Next</button>

    <script >
        function loadImage(fileNumber) {
    let imgElement = document.getElementById('page-content');
    let filePath = /assets/${fileNumber}.jpeg;

    // Update the image src attribute to the new file path
    imgElement.src = filePath;

    // Handle error if the image does not load
    imgElement.onerror = function() {
        imgElement.src = '';  // Clear the src
        imgElement.alt = Image ${fileNumber}.jpeg not found;
    };
}

function changePage(step) {
    let currentNumber = parseInt(document.getElementById('currentFileNumber').textContent);
    let newFileNumber = currentNumber + step;

    // Ensure the file number is not less than 1 (or any other lower limit you want to enforce)
    if (newFileNumber < 1) return;  // Prevent going below 1

    // Update the displayed file number
    document.getElementById('currentFileNumber').textContent = newFileNumber;

    // Lazy load the new image
    loadImage(newFileNumber);
}

document.getElementById('nextButton').addEventListener('click', function() {
    changePage(1);  // Increment the file number
});

document.getElementById('prevButton').addEventListener('click', function() {
    changePage(-1);  // Decrement the file number
});

// Initial image load
loadImage(1);
    </script>
</body>
</html>